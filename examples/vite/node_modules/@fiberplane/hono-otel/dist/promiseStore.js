const noop = () => { };
export class PromiseStore {
    constructor() {
        this.promises = [];
    }
    add(promise) {
        this.promises.push(promise);
        promise.finally(() => {
            this.promises = this.promises.filter((p) => p === promise);
        });
    }
    allSettled() {
        return Promise.allSettled(this.promises).then(noop);
    }
}
