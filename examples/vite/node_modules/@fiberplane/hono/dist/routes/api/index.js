import { Hono } from "hono";
import createAssistantApiRoute from "./assistant.js";
import createReportsApiRoute from "./reports.js";
import createTokensApiRoute from "./tokens.js";
import createWorkflowsApiRoute from "./workflows.js";
/**
 * Creates the internal API router (except for the tracing routes)
 *
 * @NOTE - Tracing routes are not gated by a Fiberplane API key,
 *         so those routes are set up in a different factory.
 */
export default function createApiRoutes(fetchFn, apiKey, fiberplaneServicesUrl) {
    const app = new Hono();
    app.route("/workflows", createWorkflowsApiRoute(apiKey, fetchFn, fiberplaneServicesUrl));
    app.route("/tokens", createTokensApiRoute(apiKey, fetchFn, fiberplaneServicesUrl));
    app.route("/reports", createReportsApiRoute(apiKey, fetchFn, fiberplaneServicesUrl));
    app.route("/assistant", createAssistantApiRoute(apiKey, fetchFn, fiberplaneServicesUrl));
    return app;
}
